syntax on

set showmatch
set incsearch
set showcmd
filetype on

set expandtab
set nocompatible
" change to the directory serving our files
set autochdir
set backup
set backupdir=~/.vim/backup
set shiftwidth=2
set hidden
set softtabstop=2
set autoindent
set smartindent
set ruler
set showmode
set history=200          " Store last 200 commands as history.
set undolevels=200

set hlsearch             " Highlight previous search results
set wildmenu wildmode=longest:full

" enable the status bar
set laststatus=2

" highlight whitespace
set list
set listchars=tab:>.,trail:.,extends:#,nbsp:.

set pastetoggle=<F2>

" save precious keystrokes
nnoremap ; :

nmap <silent> <C-D> :NERDTreeToggle<CR>

" sudo
cmap w!! w !sudo tee % >/dev/null

" hate whitespace
autocmd BufEnter * :syntax match Error "\s\+$"
autocmd BufEnter * :syntax match Error " +$"
autocmd BufEnter * :syntax match Error "^ \+\t"me=e+1
autocmd BufEnter * :syntax match Error "\[^\t\]\t\+ \+"me=e+1


autocmd BufEnter *.php :%s/\s\+$//e
autocmd BufEnter *.rules :%s/\s\+$//e
autocmd BufEnter *.rb :%s/\s\+$//e
autocmd BufEnter BUILD :%s/\s\+$//e
autocmd BufEnter *.py :%s/\s\+$//e
autocmd BufEnter *.sh :%s/\s\+$//e

" presentation
set background=dark

" safe options for a 16-color terminal.
colorscheme blackboard
set guifont=Inconsolata

" This assumes a 256-color terminal. If you don't have one, get one.
colorscheme ir_helix
set t_Co=256

" Make cut/paste not suck
" set pastetoggle=<F2>

if has("colorcolumn")
  set colorcolumn=80
else
  au BufWinEnter * let w:m2=matchadd('Comment', '\%>80v.\+', -1)
endif

" Source a local configuration file if available.
if filereadable(expand("~/.vimrc.local"))
  source ~/.vimrc.local
endif

